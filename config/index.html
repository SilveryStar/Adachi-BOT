<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>配置文件 | Adachi-Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Adachi-BOT 文档">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.26375a0d.js" as="script"><link rel="preload" href="/assets/js/2.44b34a9f.js" as="script"><link rel="preload" href="/assets/js/8.3a979435.js" as="script"><link rel="prefetch" href="/assets/js/10.124ddafc.js"><link rel="prefetch" href="/assets/js/11.489d8bfd.js"><link rel="prefetch" href="/assets/js/12.cfcc5932.js"><link rel="prefetch" href="/assets/js/13.cba0291f.js"><link rel="prefetch" href="/assets/js/14.0a3077a9.js"><link rel="prefetch" href="/assets/js/15.7cfcc237.js"><link rel="prefetch" href="/assets/js/16.6ba74c38.js"><link rel="prefetch" href="/assets/js/17.0c07174c.js"><link rel="prefetch" href="/assets/js/18.27af8439.js"><link rel="prefetch" href="/assets/js/3.89b75435.js"><link rel="prefetch" href="/assets/js/4.9c0d3927.js"><link rel="prefetch" href="/assets/js/5.8fb2962b.js"><link rel="prefetch" href="/assets/js/6.7a505dc8.js"><link rel="prefetch" href="/assets/js/7.1ebac3c6.js"><link rel="prefetch" href="/assets/js/9.ac98b8ea.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Adachi-Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/deploy/" class="nav-link">
  部署
</a></div><div class="nav-item"><a href="/config/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  配置
</a></div><div class="nav-item"><a href="/thank/" class="nav-link">
  致谢
</a></div><div class="nav-item"><a href="/picture/" class="nav-link">
  图片
</a></div><div class="nav-item"><a href="/statement/" class="nav-link">
  声明
</a></div><div class="nav-item"><a href="/developer/" class="nav-link">
  开发者
</a></div><div class="nav-item"><a href="/web-console/" class="nav-link">
  控制台
</a></div><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="https://github.com/SilveryStar/Adachi-BOT" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/deploy/" class="nav-link">
  部署
</a></div><div class="nav-item"><a href="/config/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  配置
</a></div><div class="nav-item"><a href="/thank/" class="nav-link">
  致谢
</a></div><div class="nav-item"><a href="/picture/" class="nav-link">
  图片
</a></div><div class="nav-item"><a href="/statement/" class="nav-link">
  声明
</a></div><div class="nav-item"><a href="/developer/" class="nav-link">
  开发者
</a></div><div class="nav-item"><a href="/web-console/" class="nav-link">
  控制台
</a></div><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="https://github.com/SilveryStar/Adachi-BOT" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>配置文件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/config/#setting-yml" class="sidebar-link">setting.yml</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/config/#默认配置" class="sidebar-link">默认配置</a></li><li class="sidebar-sub-header"><a href="/config/#qrcode" class="sidebar-link">qrcode</a></li><li class="sidebar-sub-header"><a href="/config/#number" class="sidebar-link">number</a></li><li class="sidebar-sub-header"><a href="/config/#password" class="sidebar-link">password</a></li><li class="sidebar-sub-header"><a href="/config/#master" class="sidebar-link">master</a></li><li class="sidebar-sub-header"><a href="/config/#header" class="sidebar-link">header</a></li><li class="sidebar-sub-header"><a href="/config/#platform" class="sidebar-link">platform</a></li><li class="sidebar-sub-header"><a href="/config/#atbot" class="sidebar-link">atBOT</a></li><li class="sidebar-sub-header"><a href="/config/#atuser" class="sidebar-link">atUser</a></li><li class="sidebar-sub-header"><a href="/config/#addfriend" class="sidebar-link">addFriend</a></li><li class="sidebar-sub-header"><a href="/config/#usewhitelist" class="sidebar-link">useWhitelist</a></li><li class="sidebar-sub-header"><a href="/config/#fuzzymatch" class="sidebar-link">fuzzyMatch</a></li><li class="sidebar-sub-header"><a href="/config/#matchprompt" class="sidebar-link">matchPrompt</a></li><li class="sidebar-sub-header"><a href="/config/#inviteauth" class="sidebar-link">inviteAuth</a></li><li class="sidebar-sub-header"><a href="/config/#countthreshold" class="sidebar-link">countThreshold</a></li><li class="sidebar-sub-header"><a href="/config/#groupintervaltime" class="sidebar-link">groupIntervalTime</a></li><li class="sidebar-sub-header"><a href="/config/#privateintervaltime" class="sidebar-link">privateIntervalTime</a></li><li class="sidebar-sub-header"><a href="/config/#helpport" class="sidebar-link">helpPort</a></li><li class="sidebar-sub-header"><a href="/config/#helpmessagestyle" class="sidebar-link">helpMessageStyle</a></li><li class="sidebar-sub-header"><a href="/config/#calltimes" class="sidebar-link">callTimes</a></li><li class="sidebar-sub-header"><a href="/config/#loglevel" class="sidebar-link">logLevel</a></li><li class="sidebar-sub-header"><a href="/config/#dbport" class="sidebar-link">dbPort</a></li><li class="sidebar-sub-header"><a href="/config/#dbpassword" class="sidebar-link">dbPassword</a></li><li class="sidebar-sub-header"><a href="/config/#webconsole" class="sidebar-link">webConsole</a></li></ul></li><li><a href="/config/#cookies-yml" class="sidebar-link">cookies.yml</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/config/#commands-yml" class="sidebar-link">commands.yml</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/config/#基本结构" class="sidebar-link">基本结构</a></li><li class="sidebar-sub-header"><a href="/config/#order-类指令" class="sidebar-link">Order 类指令</a></li><li class="sidebar-sub-header"><a href="/config/#switch-类指令" class="sidebar-link">Switch 类指令</a></li><li class="sidebar-sub-header"><a href="/config/#enquire-类指令" class="sidebar-link">Enquire 类指令</a></li></ul></li><li><a href="/config/#genshin-yml" class="sidebar-link">genshin.yml</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/config/#默认配置-2" class="sidebar-link">默认配置</a></li><li class="sidebar-sub-header"><a href="/config/#cardweaponstyle" class="sidebar-link">cardWeaponStyle</a></li><li class="sidebar-sub-header"><a href="/config/#cardprofile" class="sidebar-link">cardProfile</a></li><li class="sidebar-sub-header"><a href="/config/#serverport" class="sidebar-link">serverPort</a></li><li class="sidebar-sub-header"><a href="/config/#showcharscore" class="sidebar-link">showCharScore</a></li><li class="sidebar-sub-header"><a href="/config/#wishlimitnum" class="sidebar-link">wishLimitNum</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="配置文件"><a href="#配置文件" class="header-anchor">#</a> 配置文件</h1> <h2 id="setting-yml"><a href="#setting-yml" class="header-anchor">#</a> <code>setting.yml</code></h2> <h3 id="默认配置"><a href="#默认配置" class="header-anchor">#</a> 默认配置</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">qrcode</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">number</span><span class="token punctuation">:</span> <span class="token number">123456789</span>
<span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
<span class="token key atrule">master</span><span class="token punctuation">:</span> <span class="token number">987654321</span>
<span class="token key atrule">header</span><span class="token punctuation">:</span> <span class="token string">&quot;#&quot;</span>
<span class="token key atrule">platform</span><span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token key atrule">atUser</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">atBOT</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">addFriend</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">useWhitelist</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">fuzzyMatch</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">matchPrompt</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">inviteAuth</span><span class="token punctuation">:</span> master
<span class="token key atrule">countThreshold</span><span class="token punctuation">:</span> <span class="token number">60</span>
<span class="token key atrule">groupIntervalTime</span><span class="token punctuation">:</span> <span class="token number">1500</span>
<span class="token key atrule">privateIntervalTime</span><span class="token punctuation">:</span> <span class="token number">2000</span>
<span class="token key atrule">helpPort</span><span class="token punctuation">:</span> <span class="token number">54919</span>
<span class="token key atrule">helpMessageStyle</span><span class="token punctuation">:</span> message
<span class="token key atrule">callTimes</span><span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token key atrule">logLevel</span><span class="token punctuation">:</span> info
<span class="token key atrule">dbPort</span><span class="token punctuation">:</span> <span class="token number">56379</span>
<span class="token key atrule">dbPassword</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
<span class="token key atrule">webConsole</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">consolePort</span><span class="token punctuation">:</span> <span class="token number">80</span>
  <span class="token key atrule">tcpLoggerPort</span><span class="token punctuation">:</span> <span class="token number">54921</span>
  <span class="token key atrule">jwtSecret</span><span class="token punctuation">:</span> &lt;随机生成<span class="token punctuation">&gt;</span>
<span class="token key atrule">autoChat</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">secretId</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token key atrule">secretKey</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
</code></pre></div><h3 id="qrcode"><a href="#qrcode" class="header-anchor">#</a> <code>qrcode</code></h3> <p>登录方式，设置为 <code>true</code> 时表示启用扫码登录，应用启动时会向终端打印二维码。不建议启用，账密登录可以一劳永逸，只需验证一次。</p> <h3 id="number"><a href="#number" class="header-anchor">#</a> <code>number</code></h3> <p>BOT 的 QQ 账号。</p> <h3 id="password"><a href="#password" class="header-anchor">#</a> <code>password</code></h3> <p>BOT 的 QQ 密码。只有当 <code>qrcode</code> 设置为 <code>false</code> 时才需要配置。</p> <h3 id="master"><a href="#master" class="header-anchor">#</a> <code>master</code></h3> <p>BOT 持有者（或称主人）的 QQ 账号，唯一指定，拥有 BOT 最高权限。</p> <h3 id="header"><a href="#header" class="header-anchor">#</a> <code>header</code></h3> <p>指令起始符。用于标识 BOT 指令的特殊符号，例如：当 <code>header</code> 设置为 <code>#</code> 时，需使用 <code>#help</code> 来触发帮助指令，<code>help</code> 会被忽略。如果不想在指令前添加特殊符号，请设置为 <code>&quot;&quot;</code> 。</p> <h3 id="platform"><a href="#platform" class="header-anchor">#</a> <code>platform</code></h3> <p>BOT 登录平台。1表示安卓手机登录；2表示 aPad 登录；3表示安卓手表登录；4表示 MacOS 登录；5表示 iPad 登录。</p> <h3 id="atbot"><a href="#atbot" class="header-anchor">#</a> <code>atBOT</code></h3> <p>是否需要在使用指令时 @BOT 账号，只在群聊中生效。@BOT 必须在最前面，例如 <code>@Adachi-BOT #help</code>。</p> <h3 id="atuser"><a href="#atuser" class="header-anchor">#</a> <code>atUser</code></h3> <p>BOT 在响应指令时，是否需要 at 用户。部分指令的响应无视本项配置。</p> <h3 id="addfriend"><a href="#addfriend" class="header-anchor">#</a> <code>addFriend</code></h3> <p>是否强制要求添加好友后才能使用 BOT，开启后未添加好友时 BOT 将不会响应并提示对方请先添加好友。</p> <h3 id="usewhitelist"><a href="#usewhitelist" class="header-anchor">#</a> <code>useWhitelist</code></h3> <p>启用白名单模式。开启后可在 config 目录下的 whitelist.yml 配置白名单，BOT 将仅会响应白名单中的用户/群组。 whitelist.yml 中未配置任何用户时，默认不做使用限制。</p> <h3 id="fuzzymatch"><a href="#fuzzymatch" class="header-anchor">#</a> <code>fuzzyMatch</code></h3> <p>启用中文模糊匹配。开启后 BOT 会对中文指令以及指令名称进行模糊匹配，要求必须以 <code>header</code> 开头且中文指令不得拆开。<br>
例如对于<strong>信息</strong>指令，此处假设 header 为 <code>#</code>：#信息行秋、#行秋信息、#行信息秋 均可做出响应。</p> <h3 id="matchprompt"><a href="#matchprompt" class="header-anchor">#</a> <code>matchPrompt</code></h3> <p>启用参数校验提示。开启后若指令参数错误，BOT 将会给予提示。</p> <h3 id="inviteauth"><a href="#inviteauth" class="header-anchor">#</a> <code>inviteAuth</code></h3> <p>邀请 BOT 入群时，BOT 自动接受入群邀请的权限等级。可以设置为 <code>master</code> 和 <code>manager</code> 。设置为 <code>master</code> 时，只有 BOT 持有者邀请时才会自动接受入群邀请，设置为 <code>manager</code> 时 BOT
也会自动接受 <strong>BOT 管理员</strong> 的入群邀请。</p> <h3 id="countthreshold"><a href="#countthreshold" class="header-anchor">#</a> <code>countThreshold</code></h3> <p>用户在一小时使用指令的次数的阈值，按整点计算，如 <code>13:00~14:00</code> 。如果用户在过去一小时内使用指令的次数超过了该值，BOT 会向持有者发送私聊信息，提示所有超量使用的用户和使用次数，以便持有者对超量使用指令的用户进行处理。</p> <h3 id="groupintervaltime"><a href="#groupintervaltime" class="header-anchor">#</a> <code>groupIntervalTime</code></h3> <p>群聊中指令操作冷却时间，单位为毫秒(ms)，不支持小数。</p> <h3 id="privateintervaltime"><a href="#privateintervaltime" class="header-anchor">#</a> <code>privateIntervalTime</code></h3> <p>私聊中指令操作冷却时间，单位为毫秒(ms)，不支持小数。</p> <h3 id="helpport"><a href="#helpport" class="header-anchor">#</a> <code>helpPort</code></h3> <p>图片帮助所需的端口，<code>helpMessageStyle</code> 为 <code>card</code> 时有效，除非端口冲突否则不需要改动。</p> <h3 id="helpmessagestyle"><a href="#helpmessagestyle" class="header-anchor">#</a> <code>helpMessageStyle</code></h3> <p>帮助信息样式，可以设置为 <code>message</code>, <code>forward</code>, <code>xml</code> 和 <code>card</code>。</p> <ul><li><code>message</code> 样式为所有指令以单条消息直接发送。</li> <li><code>forward</code> 样式为每条指令为单条消息，并整合为合并转发的形式发送。</li> <li><code>xml</code> 样式为所有指令以 xml 卡片的形式进行发送，此方式有一定封号风险，不建议大群使用。</li> <li><code>card</code> 以图片形式发送，将会启用 <code>helpPort</code>，此种方式发送速度略慢于上面三种。</li></ul> <h3 id="calltimes"><a href="#calltimes" class="header-anchor">#</a> <code>callTimes</code></h3> <p>指令<strong>联系bot持有者</strong>每个人一天内可使用的最大次数。</p> <h3 id="loglevel"><a href="#loglevel" class="header-anchor">#</a> <code>logLevel</code></h3> <p>日志输出等级，可以设置为 <code>all</code>, <code>trace</code>, <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, <code>fatal</code>, <code>mark</code>, <code>off</code>
，等级从前往后依次递减。日志输出会过滤掉比所设置等级更高的等级日志，<code>all</code> 输出全部日志，<code>off</code> 不输出任何日志。</p> <h3 id="dbport"><a href="#dbport" class="header-anchor">#</a> <code>dbPort</code></h3> <p>数据库端口。注意，<code>Docker</code> 启动修改此值时，需将 <code>redis.conf</code> 中的 <code>port</code> 修改为与此处相同的值。</p> <h3 id="dbpassword"><a href="#dbpassword" class="header-anchor">#</a> <code>dbPassword</code></h3> <p>数据库密码。非必填项，看个人需求设置。</p> <h3 id="webconsole"><a href="#webconsole" class="header-anchor">#</a> <code>webConsole</code></h3> <p><code>Web Console</code> 功能相关配置</p> <h4 id="enable"><a href="#enable" class="header-anchor">#</a> <code>enable</code></h4> <p>是否启用 <code>Web Console</code> 即网页控制台功能，<code>true</code> 表示启用。</p> <h4 id="consoleport"><a href="#consoleport" class="header-anchor">#</a> <code>consolePort</code></h4> <p><code>Web Console</code> 页面端口，默认情况下为 <code>80</code>，以便直接通过服务器 IP 或 <code>localhost</code> 进行访问，可以自行配置。注意，<code>Docker</code> 启动修改此值时，需将 <code>services.bot.ports</code>
的第二个数字修改为与此处相同的值。</p> <h4 id="tcploggerport"><a href="#tcploggerport" class="header-anchor">#</a> <code>tcpLoggerPort</code></h4> <p><code>log4js</code> 日志输出端口，除非端口冲突否则不需要改动。</p> <h4 id="jwtsecret"><a href="#jwtsecret" class="header-anchor">#</a> <code>jwtSecret</code></h4> <p>JWT 验证秘钥，非登陆密码，默认随机生成，开启 <code>Web Console</code> 时必填且不要泄露，可以随意输入长度为 6~16 的仅由字母和数字组成的字符串，最好不要有特殊含义。</p> <h2 id="cookies-yml"><a href="#cookies-yml" class="header-anchor">#</a> <code>cookies.yml</code></h2> <p><code>genshin</code> 插件用于执行 <code>mys</code>, <code>uid</code>, <code>aby</code> 等指令所需的 <code>cookies</code> ，可配置多个。</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">cookies</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> cookieA
  <span class="token punctuation">-</span> cookieB
</code></pre></div><h2 id="commands-yml"><a href="#commands-yml" class="header-anchor">#</a> <code>commands.yml</code></h2> <p>该文件将会在 BOT 初次运行后生成，所以你并不能在启动 BOT 前配置指令。</p> <h3 id="基本结构"><a href="#基本结构" class="header-anchor">#</a> 基本结构</h3> <p><code>Adachi-BOT</code> 中的指令被分为三类 <code>order</code>, <code>switch</code> 和 <code>enquire</code> ，你需要了解他们的共性和特性。每个指令都以 <code>cmdKey</code> 为顶级标识，你可以通过使用 <code>#help -k</code>
指令（或根据你的配置）来查看每个指令对应的 <code>key</code> 。每种指令都有四个公共配置字段：</p> <h4 id="type"><a href="#type" class="header-anchor">#</a> <code>type</code></h4> <p>分为 <code>order</code>, <code>switch</code>, <code>enquire</code> ，不可修改。</p> <h4 id="auth"><a href="#auth" class="header-anchor">#</a> <code>auth</code></h4> <p>最低操作权限，可设置为 1, 2, 3：</p> <ul><li><code>1</code> 表示除封禁用户外所有人可使用</li> <li><code>2</code> 表示 <strong>BOT 管理员</strong> 和持有者可使用</li> <li><code>3</code> 表示只有持有者可使用</li></ul> <h4 id="scope"><a href="#scope" class="header-anchor">#</a> <code>scope</code></h4> <p>指令使用位置，可设置为 1, 2, 3：</p> <ul><li><code>1</code> 表示仅群聊可使用</li> <li><code>2</code> 表示仅私聊可使用</li> <li><code>3</code> 表示群聊和私聊均可使用</li></ul> <h4 id="enable-2"><a href="#enable-2" class="header-anchor">#</a> <code>enable</code></h4> <p>是否启用指令。</p> <h3 id="order-类指令"><a href="#order-类指令" class="header-anchor">#</a> <code>Order</code> 类指令</h3> <p><code>Order</code> 具有唯一可配置项 <code>headers</code> ，表示指令头，为数组类型，可以设置多个。默认情况下，指令头前会被添加上 <code>setting.yml</code> 中的 <code>header</code>
的值，如果你不想在某条指令加上它，可以在指令头前加上双下划线 <code>__</code> 。如:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">silvery-star.wish</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> order
  <span class="token key atrule">auth</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">scope</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">headers</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> __wish
    <span class="token punctuation">-</span> w
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div><p>这将为祈愿十连导出两个指令，<code>wish</code> <code>#w</code> ，当然，你也可以配置更多。</p> <h3 id="switch-类指令"><a href="#switch-类指令" class="header-anchor">#</a> <code>Switch</code> 类指令</h3> <p><code>Switch</code> 拥有四个可配置项，<code>header</code>, <code>onKey</code>, <code>offKey</code> 和 <code>mode</code>。</p> <ul><li><code>mode</code> 开关模式，分为 <code>single</code> 和 <code>divided</code> ，它们的作用将在下面阐述</li> <li><code>header</code> 指令头，只可配置一个，当 <code>mode</code> 设置为 <code>divided</code> 无效，此处同样可以通过双下划线来屏蔽 <code>setting</code> 中配置的 <code>header</code></li> <li><code>onKey/offKey</code> 表示开/关的关键词</li></ul> <p><code>single</code> 模式表示单指令头，使用关键词区分开/关状态，如：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># setting.yml =&gt; header: &quot;#&quot;</span>
<span class="token key atrule">silvery-star.alias-customize</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> switch
  <span class="token key atrule">auth</span><span class="token punctuation">:</span> <span class="token number">2</span>
  <span class="token key atrule">scope</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">mode</span><span class="token punctuation">:</span> single
  <span class="token key atrule">onKey</span><span class="token punctuation">:</span> add
  <span class="token key atrule">offKey</span><span class="token punctuation">:</span> rem
  <span class="token key atrule">header</span><span class="token punctuation">:</span> alias
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token comment"># 导出指令 #alias [add|rem] [本名] [别名] </span>
</code></pre></div><p><code>divided</code> 模式表示拆分指令头，使用指令头区分开/关状态，如：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># setting.yml =&gt; header: &quot;&quot;</span>
<span class="token key atrule">silvery-star.alias-customize</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> switch
  <span class="token key atrule">auth</span><span class="token punctuation">:</span> <span class="token number">2</span>
  <span class="token key atrule">scope</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">mode</span><span class="token punctuation">:</span> divided
  <span class="token key atrule">onKey</span><span class="token punctuation">:</span> 增加别名
  <span class="token key atrule">offKey</span><span class="token punctuation">:</span> 删除别名
  <span class="token key atrule">header</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token comment"># 导出指令 1. 增加别名 [本名] [别名]  2. 删除别名 [本名] [别名]</span>
</code></pre></div><h3 id="enquire-类指令"><a href="#enquire-类指令" class="header-anchor">#</a> <code>Enquire</code> 类指令</h3> <p><code>Enquire</code> 类指令只有一个单独的可配置项 <code>sentences</code> ，表示 “询问句式”。在一个句子中，包含由 <code>#{}</code>
包裹的关键字段和其余部分，在配置时，在保证保留所有的关键字段的前提下，你可以随意的打乱句式的顺序，指令都能正常的运行，如：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">enquire.example</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> enquire
  <span class="token key atrule">auth</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">scope</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">sentences</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;告诉我#{CHARACTER}的元素属性&quot;</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;#{CHARACTER}的元素属性是什么&quot;</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div><h2 id="genshin-yml"><a href="#genshin-yml" class="header-anchor">#</a> <code>genshin.yml</code></h2> <p><code>genshin</code> 插件相关配置。</p> <h3 id="默认配置-2"><a href="#默认配置-2" class="header-anchor">#</a> 默认配置</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">cardWeaponStyle</span><span class="token punctuation">:</span> normal
<span class="token key atrule">cardProfile</span><span class="token punctuation">:</span> random
<span class="token key atrule">serverPort</span><span class="token punctuation">:</span> <span class="token number">58612</span>
<span class="token key atrule">showCharScore</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">wishLimitNum</span><span class="token punctuation">:</span> <span class="token number">99</span>
</code></pre></div><h3 id="cardweaponstyle"><a href="#cardweaponstyle" class="header-anchor">#</a> <code>cardWeaponStyle</code></h3> <p>用户信息查询卡片武器显示样式，可选 <code>normal</code>，<code>weaponA</code> 和 <code>weaponB</code> 。图例在依次在下方。</p> <center class="half"><img src="/demo/config/normal.png" alt="ERROR"> <img src="/demo/config/weaponA.png" alt="ERROR"> <img src="/demo/config/weaponB.png" alt="ERROR"></center> <h3 id="cardprofile"><a href="#cardprofile" class="header-anchor">#</a> <code>cardProfile</code></h3> <p>用户信息查询卡片头像显示，可选 <code>random</code> 和 <code>user</code> 。设置为 <code>random</code> 时，头像会从玩家所用于的角色中随机抽取；设置为 <code>user</code> 时，头像为查询用户的 QQ 头像。</p> <h3 id="serverport"><a href="#serverport" class="header-anchor">#</a> <code>serverPort</code></h3> <p><code>genshin</code> 插件的后端端口，除非端口冲突否则不需要改动。</p> <h3 id="showcharscore"><a href="#showcharscore" class="header-anchor">#</a> <code>showCharScore</code></h3> <p>角色信息查询是否显示评分。</p> <h3 id="wishlimitnum"><a href="#wishlimitnum" class="header-anchor">#</a> <code>wishLimitNum</code></h3> <p>单次祈愿的最大抽取十连次数。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.26375a0d.js" defer></script><script src="/assets/js/2.44b34a9f.js" defer></script><script src="/assets/js/8.3a979435.js" defer></script>
  </body>
</html>
